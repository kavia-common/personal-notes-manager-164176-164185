/* Design tokens from assets/style_guide.md and assets/notes_app_main_design_notes.md */

/* Theme variables */
:root {
  /* Light theme defaults */
  --bg-canvas: #FFFFFF;
  --bg-elevated: #FFFFFF;
  --bg-hover: #F6F7F9;
  --bg-active: #EFF1F5;
  --bg-selected: #E8F1FF;

  --text-strong: #0B1220;
  --text-normal: #1D2433;
  --text-muted: #5C667A;
  --text-inverse: #0B1220;

  --border-subtle: #E4E7EC;

  --accent: #3B82F6;
  --accent-strong: #2563EB;

  --success: #10B981;
  --warning: #F59E0B;
  --danger: #EF4444;

  --tag-blue: #60A5FA;
  --tag-green: #34D399;
  --tag-purple: #A78BFA;
  --tag-gray: #94A3B8;

  --radius-card: 10px;
  --radius-surface: 12px;
  --radius-chip: 16px;

  --shadow-sm: 0 1px 2px rgba(0,0,0,.12);
  --shadow-md: 0 6px 18px rgba(0,0,0,.16);

  --appbar-height-desktop: 56px;
  --appbar-height-mobile: 52px;
}

/* Dark theme */
[data-theme="dark"] {
  --bg-canvas: #0F1115;
  --bg-elevated: #151922;
  --bg-hover: rgba(255,255,255,0.04);
  --bg-active: rgba(255,255,255,0.06);
  --bg-selected: rgba(59,130,246,0.14);

  --text-strong: #FFFFFF;
  --text-normal: #D6DAE1;
  --text-muted: #9AA3B2;
  --text-inverse: #0B1220;

  --border-subtle: #2A3140;
}

/* Global resets */
* { box-sizing: border-box; }
html, body, #root { height: 100%; }
body {
  margin: 0;
  font-family: "Helvetica Neue", Inter, Arial, sans-serif;
  color: var(--text-normal);
  background: var(--bg-canvas);
}

/* App Grid Layout */
.app-root {
  display: grid;
  grid-template-columns: 280px 360px 1fr;
  grid-template-rows: var(--appbar-height-desktop) 1fr;
  grid-template-areas:
    "appbar appbar appbar"
    "sidebar list editor";
  height: 100vh;
  background: var(--bg-canvas);
}

/* Breakpoints */
@media (max-width: 1199px) {
  .app-root {
    grid-template-columns: 260px 320px 1fr;
  }
}
@media (max-width: 991px) {
  .app-root {
    grid-template-columns: 280px 1fr;
    grid-template-areas:
      "appbar appbar"
      "sidebar list";
  }
  .editor-overlay {
    position: fixed;
    inset: var(--appbar-height-desktop) 0 0 0;
    background: var(--bg-elevated);
    z-index: 80;
    border-left: 1px solid var(--border-subtle);
  }
}
@media (max-width: 767px) {
  .app-root {
    grid-template-columns: 1fr;
    grid-template-areas:
      "appbar"
      "list";
  }
  .sidebar { display: none; }
}

/* App Bar */
.appbar {
  grid-area: appbar;
  position: sticky;
  top: 0;
  z-index: 100;
  height: var(--appbar-height-desktop);
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 0 16px;
  background: var(--bg-elevated);
  border-bottom: 1px solid var(--border-subtle);
}
.appbar .brand {
  display: flex; align-items: center; gap: 10px;
  color: var(--text-strong); font-weight: 600; font-size: 16px;
}
.appbar .spacer { flex: 1; }
.input {
  height: 36px;
  background: var(--bg-active);
  border: 1px solid transparent;
  border-radius: 10px;
  padding: 0 12px;
  color: var(--text-normal);
}
.input::placeholder { color: var(--text-muted); }
.input:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 2px rgba(59,130,246,.35);
}
.btn {
  height: 36px;
  border-radius: 10px;
  padding: 0 14px;
  border: 1px solid transparent;
  cursor: pointer;
  transition: background .16s ease-out, transform .16s ease-out, border-color .16s ease-out;
}
.btn-primary {
  background: var(--accent);
  color: #fff;
}
.btn-primary:hover { background: var(--accent-strong); }
.btn-secondary {
  background: transparent;
  color: var(--text-normal);
  border-color: var(--border-subtle);
}
.btn-secondary:hover { background: var(--bg-hover); }
.icon-btn {
  width: 36px; height: 36px;
  display: inline-flex; align-items: center; justify-content: center;
  border-radius: 8px; background: transparent; border: none; color: var(--text-normal);
}
.icon-btn:hover { background: var(--bg-hover); }

/* Sidebar */
.sidebar {
  grid-area: sidebar;
  border-right: 1px solid var(--border-subtle);
  background: var(--bg-canvas);
  height: calc(100vh - var(--appbar-height-desktop));
  overflow: auto;
  padding: 12px;
}
.sidebar-section {
  margin-bottom: 16px;
}
.sidebar-section .label {
  font-size: 12px;
  color: var(--text-muted);
  margin: 8px 8px;
  text-transform: uppercase;
  letter-spacing: .06em;
}
.nav-item {
  display: flex; align-items: center; gap: 10px;
  height: 40px; padding: 0 12px;
  border-radius: 8px; color: var(--text-normal);
  cursor: pointer;
  position: relative;
}
.nav-item:hover { background: var(--bg-hover); }
.nav-item.active {
  background: var(--bg-selected);
}
.nav-item.active::before {
  content: "";
  position: absolute; inset: 8px auto 8px 0;
  width: 3px; border-radius: 2px; background: var(--accent);
}
.chip {
  height: 24px; padding: 0 10px; border-radius: 16px;
  background: rgba(148,163,184,0.18);
  color: var(--text-normal); display: inline-flex; align-items: center;
  font-size: 12px;
}

/* List pane */
.list {
  grid-area: list;
  border-right: 1px solid var(--border-subtle);
  background: var(--bg-canvas);
  height: calc(100vh - var(--appbar-height-desktop));
  display: flex; flex-direction: column;
}
.list-header {
  height: 56px; display: flex; align-items: center; gap: 12px;
  padding: 0 16px; border-bottom: 1px solid var(--border-subtle);
}
.list-title { font-size: 16px; font-weight: 600; color: var(--text-strong); }
.list-body {
  overflow: auto; padding: 8px;
}
.note-item {
  border-radius: 10px;
  padding: 12px; margin-bottom: 8px;
  transition: background .12s ease-out;
  cursor: pointer;
}
.note-item:hover { background: var(--bg-hover); }
.note-item.selected { background: var(--bg-selected); box-shadow: inset 3px 0 0 0 var(--accent); }
.note-title { font-size: 16px; font-weight: 600; color: var(--text-strong); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.note-snippet { font-size: 13.5px; color: var(--text-muted); margin-top: 6px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.note-meta {
  margin-top: 8px; display: flex; align-items: center; gap: 8px; color: var(--text-muted); font-size: 12.5px;
}

/* Editor */
.editor {
  grid-area: editor;
  background: var(--bg-elevated);
  height: calc(100vh - var(--appbar-height-desktop));
  display: flex; flex-direction: column;
}
.editor-toolbar {
  height: 48px; display: flex; align-items: center; gap: 8px;
  padding: 0 16px; border-bottom: 1px solid var(--border-subtle);
}
.editor-title {
  font-size: 28px; font-weight: 700; color: var(--text-strong);
  width: 100%; border: none; background: transparent;
}
.editor-title::placeholder { color: var(--text-muted); }
.editor-title:focus { outline: none; }
.editor-scroll {
  overflow: auto; padding: 24px;
  display: flex; justify-content: center;
}
.editor-content {
  width: 100%; max-width: 820px;
  color: var(--text-normal); font-size: 16px; line-height: 1.6;
}
.editor-content p { margin: 8px 0 12px; }
.editor-content h1 { font-size: 28px; font-weight: 700; margin: 16px 0 8px; }
.editor-content h2 { font-size: 22px; font-weight: 700; margin: 16px 0 8px; }
.editor-content h3 { font-size: 18px; font-weight: 600; margin: 12px 0 6px; }
.editor-content ul, .editor-content ol { padding-left: 22px; }
.editor-content li { margin: 4px 0; }
.editor-content code {
  font-family: SFMono-Regular, Menlo, Consolas, monospace;
  background: rgba(148,163,184,.18);
  border-radius: 6px; padding: 0 6px;
}
.editor-content pre {
  font-family: SFMono-Regular, Menlo, Consolas, monospace;
  background: rgba(148,163,184,.14);
  border-radius: 10px; padding: 12px 16px; overflow: auto;
}
.editor-content blockquote {
  border-left: 3px solid var(--border-subtle);
  color: var(--text-muted);
  padding-left: 12px; margin: 8px 0 12px;
}

/* Utilities */
.row { display: flex; align-items: center; gap: 8px; }
.space-between { justify-content: space-between; }
.hidden { display: none; }

@media (max-width: 767px) {
  .appbar { height: var(--appbar-height-mobile); }
  .list-header { padding: 0 12px; }
  .editor-scroll { padding: 16px; }
}
